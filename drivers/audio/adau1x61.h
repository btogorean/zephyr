/*
 * Copyright (C) 2020 Analog Devices Inc.
 *
 * SPDX-License-Identifier: Apache-2.0
 */

#ifndef ZEPHYR_DRIVERS_AUDIO_ADAU1x61_H_
#define ZEPHYR_DRIVERS_AUDIO_ADAU1x61_H_

#ifdef __cplusplus
extern "C" {
#endif

/* Generic register addresses and fields */
#define ADAU1X61_CLOCK_CONTROL			0x4000
#define ADAU1X61_PLL_CONTROL			0x4002
#define ADAU1X61_DIGMIC_JACKDETECT		0x4008
#define ADAU1X61_REC_POWER_MGMT			0x4009
#define ADAU1X61_MICBIAS			0x4010
#define ADAU1X61_REC_MIXER_LEFT0		0x400a
#define ADAU1X61_REC_MIXER_LEFT1		0x400b
#define ADAU1X61_REC_MIXER_RIGHT0		0x400c
#define ADAU1X61_REC_MIXER_RIGHT1		0x400d
#define ADAU1X61_LEFT_DIFF_INPUT_VOL		0x400e
#define ADAU1X61_RIGHT_DIFF_INPUT_VOL		0x400f
#define ADAU1X61_ALC_CTRL0			0x4011
#define ADAU1X61_ALC_CTRL1			0x4012
#define ADAU1X61_ALC_CTRL2			0x4013
#define ADAU1X61_ALC_CTRL3			0x4014
#define ADAU1X61_SERIAL_PORT0			0x4015
#define ADAU1X61_SERIAL_PORT1			0x4016
#define ADAU1X61_CONVERTER0			0x4017
#define ADAU1X61_CONVERTER1			0x4018
#define ADAU1X61_ADC_CONTROL			0x4019
#define ADAU1X61_LEFT_INPUT_DIGITAL_VOL		0x401a
#define ADAU1X61_RIGHT_INPUT_DIGITAL_VOL	0x401b
#define ADAU1X61_PLAY_MIXER_LEFT0		0x401c
#define ADAU1X61_PLAY_MIXER_LEFT1		0x401d
#define ADAU1X61_PLAY_MIXER_RIGHT0		0x401e
#define ADAU1X61_PLAY_MIXER_RIGHT1		0x401f
#define ADAU1X61_PLAY_LR_MIXER_LEFT		0x4020
#define ADAU1X61_PLAY_LR_MIXER_RIGHT		0x4021
#define ADAU1X61_PLAY_MIXER_MONO		0x4022
#define ADAU1X61_PLAY_HP_LEFT_VOL		0x4023
#define ADAU1X61_PLAY_HP_RIGHT_VOL		0x4024
#define ADAU1X61_PLAY_LINE_LEFT_VOL		0x4025
#define ADAU1X61_PLAY_LINE_RIGHT_VOL		0x4026
#define ADAU1X61_PLAY_MONO_OUTPUT_VOL		0x4027
#define ADAU1X61_POP_CLICK_SUPPRESS		0x4028
#define ADAU1X61_PLAY_POWER_MGMT		0x4029
#define ADAU1X61_DAC_CONTROL0			0x402a
#define ADAU1X61_DAC_CONTROL1			0x402b
#define ADAU1X61_DAC_CONTROL2			0x402c
#define ADAU1X61_SERIAL_PORT_PAD		0x402d
#define ADAU1X61_CONTROL_PORT_PAD0		0x402f
#define ADAU1X61_CONTROL_PORT_PAD1		0x4030
#define ADAU1X61_JACK_DETECT_PIN		0x4031
#define ADAU1X61_DEJITTER			0x4036

#define ADAU1X61_CLOCK_CONTROL_COREN		BIT(0)
#define ADAU1X61_CLOCK_CONTROL_INFREQ_MASK	(0x3 << 1)
#define ADAU1X61_CLOCK_CONTROL_CLKSRC		BIT(3)

#define ADAU1X61_SERIAL_PORT0_BCLK_POL		BIT(4)
#define ADAU1X61_SERIAL_PORT0_LRCLK_POL		BIT(3)
#define ADAU1X61_SERIAL_PORT0_MASTER		BIT(0)

#define ADAU1X61_DIGMIC_JACKDETECT_ACTIVE_LOW	BIT(0)
#define ADAU1X61_DIGMIC_JACKDETECT_DIGMIC	BIT(5)

#define ADAU1X61_DIFF_INPUT_VOL_LDEN		BIT(0)

#define ADAU1X61_PLAY_VOL_MASK			(0x3F << 2)
#define ADAU1X61_PLAY_MUTE_MASK			BIT(1)
#define ADAU1X61_PLAY_HP_MODE_HP		BIT(0)
#define ADAU1X61_PLAY_LINE_LEFT_VOL_LOMODE	BIT(0)
#define ADAU1X61_PLAY_LINE_RIGHT_VOL_ROMODE	BIT(0)
#define ADAU1X61_PLAY_LINE_VOL_MUTE		BIT(1)

#define ADAU1X61_PLAY_MONO_OUTPUT_VOL_MODE_HP	BIT(0)
#define ADAU1X61_PLAY_MONO_OUTPUT_VOL_UNMUTE	BIT(1)

#define ADAU1X61_SERIAL_PORT1_DELAY1		0x00
#define ADAU1X61_SERIAL_PORT1_DELAY0		0x01
#define ADAU1X61_SERIAL_PORT1_DELAY8		0x02
#define ADAU1X61_SERIAL_PORT1_DELAY16		0x03
#define ADAU1X61_SERIAL_PORT1_DELAY_MASK	0x03

#define ADAU1X61_SERIAL_PORT1_BCLK64		(0x0 << 5)
#define ADAU1X61_SERIAL_PORT1_BCLK32		(0x1 << 5)
#define ADAU1X61_SERIAL_PORT1_BCLK48		(0x2 << 5)
#define ADAU1X61_SERIAL_PORT1_BCLK128		(0x3 << 5)
#define ADAU1X61_SERIAL_PORT1_BCLK256		(0x4 << 5)
#define ADAU1X61_SERIAL_PORT1_BCLK_MASK		(0x7 << 5)

#define ADAU1X61_SERIAL_PORT0_STEREO		(0x0 << 1)
#define ADAU1X61_SERIAL_PORT0_TDM4		(0x1 << 1)
#define ADAU1X61_SERIAL_PORT0_TDM8		(0x2 << 1)
#define ADAU1X61_SERIAL_PORT0_TDM_MASK		(0x3 << 1)
#define ADAU1X61_SERIAL_PORT0_PULSE_MODE	BIT(5)

#define ADAU1X61_CONVERTER0_DAC_PAIR(x)		(((x) - 1) << 5)
#define ADAU1X61_CONVERTER0_DAC_PAIR_MASK	(0x3 << 5)
#define ADAU1X61_CONVERTER1_ADC_PAIR(x)		((x) - 1)
#define ADAU1X61_CONVERTER1_ADC_PAIR_MASK	0x3

#define ADAU1X61_CONVERTER0_CONVSR_MASK		0x7
#define ADAU1X61_CONVERTER0_ADOSR		BIT(3)

#define ADAU1X61_PLAY_MIXER_LEFT0_MIXER_EN	BIT(1)
#define ADAU1X61_PLAY_MIXER_LEFT0_LEFT_MUTE	BIT(5)
#define ADAU1X61_PLAY_MIXER_LEFT0_RIGHT_MUTE	BIT(6)

#define ADAU1X61_PLAY_MIXER_RIGHT0_MIXER_EN	BIT(1)
#define ADAU1X61_PLAY_MIXER_RIGHT0_LEFT_MUTE	BIT(5)
#define ADAU1X61_PLAY_MIXER_RIGHT0_RIGHT_MUTE	BIT(6)

#define ADAU1X61_DAC_CONTROL0_DACEN_MASK	0x3
#define ADAU1X61_DAC_CONTROL0_DACEN_LEFT_DAC	BIT(1)
#define ADAU1X61_DAC_CONTROL0_DACEN_RIGHT_DAC	BIT(2)

/* ADAU1761 register addresses and fields */
#define ADAU1761_DSP_SAMPLING_RATE		0x40eb
#define ADAU1761_SERIAL_INPUT_ROUTE		0x40f2
#define ADAU1761_SERIAL_OUTPUT_ROUTE		0x40f3
#define ADAU1761_DSP_ENABLE			0x40f5
#define ADAU1761_DSP_RUN			0x40f6
#define ADAU1761_SERIAL_SAMPLING_RATE		0x40f8
#define ADAU1761_CLK_ENABLE0			0x40f9
#define ADAU1761_CLK_ENABLE1			0x40fa

enum mic_bias_voltage {
	ADAU16X1_MICBIAS_0_90_AVDD = 0,
	ADAU17X1_MICBIAS_0_65_AVDD = 1,
};

#ifdef __cplusplus
}
#endif

#endif /* ZEPHYR_DRIVERS_AUDIO_ADAU1x61_H_ */
